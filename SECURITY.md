# Security Policy

This project takes security seriously. Please review this policy to learn how to report vulnerabilities and understand the app’s current protections and support window.

## Supported versions

- v2.1.x (main) — actively supported for security fixes
- < v2.1 — not supported

See `CHANGELOG.md` for patch notes and `PROJECT_STATUS.md` for the current status.

## Reporting a vulnerability

- Preferred: Use GitHub Private Vulnerability Reporting or Security Advisories to contact maintainers privately (if enabled).
- Alternatively: Open a new issue with the title starting with "SECURITY:" and provide minimal details. A maintainer will reach out to coordinate a private channel for full details and PoC.
- Please avoid posting sensitive PoCs or exploitation details in public issues.
- Provide as much context as possible: affected versions/commit, environment, reproduction steps, and impact.

We aim to acknowledge new reports within 3 business days and provide a remediation plan or status update within 14 days.

## In-scope components

- Application code under `lib/` and `assets/` used at runtime
- Database schema and encryption/configuration applied by the app
- Export and import paths handled by the app
- CI/CD workflows under `.github/`

Out of scope:

- Deprecated migration and tooling scripts under `tools/` (these are dev-only and marked deprecated)
- Platform runner boilerplate generated by Flutter (unless our custom changes introduce issues)

## Current protections (v2.1.x)

- Password hashing: Argon2id with per-password random salt (16 bytes)
  - Defaults (desktop): memory ~64 MB, time cost 3, parallelism 4
  - See README (Argon2 parameter table) for platform-specific guidance
- Data at rest: SQLCipher (via `sqlcipher_flutter_libs`), keys stored via secure storage
- Data in transit: Standard HTTPS for any remote calls; local-only by default
- Sessions: JWT-based with secure storage; short-lived tokens recommended
- Input hardening: strict validation chains and sanitization (`lib/utils/validation_chains.dart`, `lib/utils/input_sanitizer.dart`)
- Auditing: structured security logs (`lib/utils/secure_logger.dart`), audit service with sensitive event coverage

Related docs:

- `SECURITY_IMPROVEMENTS.md` (what and why)
- `SECURITY_IMPROVEMENTS_IMPLEMENTATION.md` (how it’s implemented)
- `SECURITY_AUDIT.md` (audit results)
- `README.md` (Argon2 parameters per platform, dependency overrides rationale)

## Coordinated disclosure

- Please allow a reasonable window to validate and fix (default 90 days for complex issues; sooner if feasible).
- We’ll credit reporters upon request once a fix is released.

## Development safety

- Migration scripts are deprecated; the app ensures schema at runtime
- Dangerous tooling (e.g., user seeders) require explicit confirmation flags
- Default branches are protected; CI runs lint and tests on PRs

Thank you for helping keep this project secure.